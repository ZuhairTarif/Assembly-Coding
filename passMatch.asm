.model small
.stack 100h
.data
PASSWORD DB 'mypassword'
LEN EQU ($-PASSWORD) ;ASM constant for string
MSG1 DB 10,13,'ENTER YOUR PASSWORD: $'
MSG2 DB 10,13,'Matched$'
MSG3 DB 10,13,'Not Matched!$'
NEW DB 10,13,'$'
INST DB 10 DUP(0)
.code
main proc
START:
MOV AX,DATA
MOV DS,AX ;initialize ds
LEA DX,MSG1 ;load msg1
MOV AH,09H
INT 21H
MOV SI,00 ;memory zero
UP1:
MOV AH,08H
INT 21H
CMP AL,0DH
JE DOWN
MOV [INST+SI],AL
MOV DL,'*'
MOV AH,02H
INT 21H
INC SI
JMP UP1
DOWN:
MOV BX,00
MOV CX,LEN
CHECK:
MOV AL,[INST+BX]
MOV DL,[PASSWORD+BX]
CMP AL,DL
JNE FAIL
INC BX
LOOP CHECK
LEA DX,MSG2
MOV AH,09H
INT 21H
JMP FINISH
FAIL:
LEA DX,MSG3
MOV AH,009H
INT 21H
FINISH:
INT 3
main endp
end main
